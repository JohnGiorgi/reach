# NE rules

- name: "ner-person"
  label: [Person, Entity]
  priority: 1
  type: token
  pattern: |
   [entity="PERSON"]+
   |
   [tag=/^N/]* [tag=/^N/ & outgoing="cop"] [tag=/^N/]*

- name: "ner-location"
  label: [Location, PossibleLocation, Entity]
  priority: 1
  type: token
  pattern: |
    [entity="LOCATION"]+

- name: "ner-org"
  label: [Organization, Entity]
  priority: 1
  type: token
  pattern: |
    [entity="ORGANIZATION"]+

- name: "ner-date"
  label: [Date]
  priority: 1
  type: token
  pattern: |
    [entity="DATE"]+

- name: "subj"
  label: [Subject, Entity]
  priority: 1
  type: token
  unit: "tag"
  pattern: |
    /^N/* [incoming=/^nsubj/] /^N/*

# Try to find other NEs that are likely Locations
- name: "possible-location"
  label: [PossibleLocation, ProperNoun]
  priority: 2
  type: token
  pattern: |
   [tag=/^NNP/ & !mention=/./]* [tag=/^NNP/ & incoming=/prep_(in|at)/ & !mention=/./] [tag=/^NNP/ & !mention=/./]*

- name: "proper-noun"
  label: [ProperNoun, Entity]
  priority: 2
  type: token
  pattern: |
   [tag="NNP" & !incoming=/prep_(in|at)/ & !mention=/./]+

# Simple coref
- name: "unresolved"
  label: [Unresolved]
  priority: 2
  type: token
  pattern: |
   [tag=/^W/ & incoming=/^(nsubj|dobj)/]

- name: "coref"
  label: [Resolved]
  priority: 3
  type: dependency
  pattern: |
    wh: Unresolved
    antecedent: Entity = </^(nsubj|dobj)/ <rcmod

# Relations
- name: "is-a"
  label: [Equiv]
  priority: 3
  type: dependency
  pattern: |
    entity: Entity
    isa: Entity = <nsubj [outgoing="cop"]
    location: PossibleLocation? = /prep_(in|at)/

# optional location and date
- name: "born-1"
  label: [Born]
  priority: 3
  example: "The baby is going to be born in June."
  type: dependency
  pattern: |
    trigger = "born"
    entity: Entity = (<xcomp? /^nsubj/) | <vmod
    birthdate: Date? = /prep_(on|in|at)/+
    location: PossibleLocation? = /prep_(in|at)/+



